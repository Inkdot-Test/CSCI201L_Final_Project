(this["webpackJsonpusc-course-scheduler"]=this["webpackJsonpusc-course-scheduler"]||[]).push([[0],{276:function(e,t,n){e.exports=n(402)},297:function(e,t,n){},401:function(e,t,n){},402:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),c=n.n(o),i=n(23),l=n(235),u=n(20),s=n(142),m=n(290),p=n(74),d=(n(297),n(179)),f=n(30),E=n.n(f),g=n(6),b=n(2),h=n(52),O=n(442),y=n(449),v=n(180),w=n(150),j=n(55),S=n(232),C=n(443),D=n(450),P=n(451),I=n(446),k=n(415),x=n(452),N=n(227),T=n(453),_=n(448),L=n(252),R=n.n(L),G=n(249),H=n.n(G),B=n(251),U=n.n(B),A=n(253),W=n.n(A),z=n(254),F=n.n(z),M=n(258),Y=n.n(M),V=n(256),q=n.n(V),X=n(255),Z=n.n(X),J=n(250),K=n.n(J),Q=n(257),$=n.n(Q),ee=n(46),te=n.n(ee),ne=n(76),ae=n(16),re=n(439),oe=n(441),ce=n(160),ie=n(149),le=n.n(ie);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var se=Object(h.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",width:350},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},button:{margin:e.spacing(3,0,2)}}}));var me=Object(i.b)((function(e){return e.tabsControl}),(function(e){return{onLoginClick:function(t){return e({type:"TOGGLE_LOGIN",openLogin:t})},onRegisterClick:function(t){return e({type:"TOGGLE_REGISTER",openRegister:t})},onLogIn:function(t){return e({type:"USER_LOGIN",username:t})}}}))(Object(p.withSnackbar)((function(e){var t=e.openLogin,n=e.onLoginClick,a=e.onRegisterClick,o=e.onLogIn,c=e.enqueueSnackbar,i=r.a.useState({username:"",password:""}),l=Object(ae.a)(i,2),u=l[0],s=l[1],m=r.a.useState(""),p=Object(ae.a)(m,2),f=p[0],b=p[1],h=se(),y=function(){n(!1)},v=function(e){var t=e.target,n=t.name,a=t.value;s((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(g.a)({},n,a))}))},w=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.a.get("/api/login",{params:{username:u.username,password:u.password}}).then((function(e){var t=e.data;"error"===t.type?b(t.message):"ok"===t.type&&(o(u.username),s({username:"",password:""}),b(""),y(),c("Successfully log in!",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"right"}}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(re.a,{"aria-labelledby":"simple-dialog-title",open:t,onClose:y},r.a.createElement(oe.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),r.a.createElement("div",{className:h.paper},r.a.createElement(C.a,{className:h.avatar},r.a.createElement(le.a,null)),r.a.createElement(j.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement(ce.a,{error:Boolean(f),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",value:u.username,onChange:v,autoFocus:!0}),r.a.createElement(ce.a,{error:Boolean(f),helperText:f,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",value:u.password,onChange:v,label:"Password",type:"password",id:"password"}),r.a.createElement(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:h.button,onClick:w},"Sign In"),r.a.createElement(d.a,{fullWidth:!0,className:h.button,onClick:function(){n(!1),a(!0)}},"Don't have an account? Sign Up"))))})));function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var de=Object(h.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",width:350},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},submit:{margin:e.spacing(3,0,2)}}}));var fe=Object(i.b)((function(e){return e.tabsControl}),(function(e){return{onRegisterClick:function(t){return e({type:"TOGGLE_REGISTER",openRegister:t})},onLogIn:function(t){return e({type:"USER_LOGIN",username:t})}}}))(Object(p.withSnackbar)((function(e){var t=e.openRegister,n=e.onRegisterClick,a=e.onLogIn,o=e.enqueueSnackbar,c=r.a.useState({username:"",password:"",confirmation:""}),i=Object(ae.a)(c,2),l=i[0],u=i[1],s=r.a.useState(""),m=Object(ae.a)(s,2),p=m[0],f=m[1],b=de(),h=function(){n(!1)},y=function(e){var t=e.target,n=t.name,a=t.value;u((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(g.a)({},n,a))}))},v=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(l),E.a.get("/api/register",{params:{username:l.username,password:l.password,confirmation:l.confirmation}}).then((function(e){var t=e.data;"error"===t.type?f(t.message):"ok"===t.type&&(a(l.username),u({username:"",password:"",confirmation:""}),f(""),h(),o("Successfully log in!",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"right"}}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(re.a,{"aria-labelledby":"simple-dialog-title",open:t,onClose:h},r.a.createElement(oe.a,{component:"main"},r.a.createElement(O.a,null),r.a.createElement("div",{className:b.paper},r.a.createElement(C.a,{className:b.avatar},r.a.createElement(le.a,null)),r.a.createElement(j.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement(ce.a,{error:Boolean(p),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Username",name:"username",value:l.username,onChange:y,autoFocus:!0}),r.a.createElement(ce.a,{error:Boolean(p),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",name:"password",value:l.password,onChange:y,type:"password"}),r.a.createElement(ce.a,{error:Boolean(p),helperText:p,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Confirm Password",name:"confirmation",value:l.confirmation,onChange:y,type:"password"}),r.a.createElement(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:b.submit,onClick:v},"Sign Up"))))}))),Ee={COURSE_BIN:0,PREFERENCE:1,SCHEDULE:2,HISTORY:3,COMMUNITY:4},ge=n(454),be=n(231),he=n(229),Oe=n(214),ye=n(230),ve=n(77),we=n.n(ve),je=n(41),Se=n.n(je);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function De(e){return Se()("1880-10-06 00:00").add(e,"m")}function Pe(e){return e.diff(Se()("1880-10-06 00:00"),"m")}function Ie(e){var t=[];return e.forEach((function(e){e.days.forEach((function(n){t.push({title:e.name,type:e.type,ID:e.ID,instructor:e.instructor,location:e.location,start:new Date(Se()("1880-10-03 00:00").add(e.time.start,"m").add(n,"d")),end:new Date(Se()("1880-10-03 00:00").add(e.time.end,"m").add(n,"d"))})}))})),t}function ke(e){return e.map((function(e){return{id:e.id,total:e.total,early:e.early,late:e.late,breaks:e.breaks,reserved:e.reserved}}))}function xe(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{penalize:!0,include:!0})}))}var Ne=["M","Tue","W","Thu","F"];function Te(e){for(var t=[],n=0;n<5;)e.indexOf(Ne[n])>=0&&t.push(n+1),n+=1;return t}function _e(e){var t=e.indexOf("-"),n=Le(e.slice(0,t)),a=Le(e.slice(t+1,-2));return"pm"===e.slice(-2)&&a<720&&(n+=720,a+=720),n>a&&(n-=720),isNaN(n)||isNaN(a)?null:{start:n,end:a}}function Le(e){var t=e.indexOf(":");return 60*parseInt(e.slice(0,t),10)+parseInt(e.slice(t+1),10)}function Re(e,t){var n=[];return e.filter((function(e){return"adult"===e.type})).forEach((function(t){var a=[];e.filter((function(e){return e.parentId===t.id})).forEach((function(n){var r=e.filter((function(e){return e.parentId===n.id&&e.include})).map((function(e){return{name:t.id,ID:e.id,type:e.class_type,instructor:e.instructor,location:e.location,days:Te(e.days),time:_e(e.time),include:e.include,penalize:e.penalize}}));r.length>0&&a.push({name:n.id,elements:r})})),a.length>0&&n.push({name:t.id,elements:a})})),{courses:n,preferences:t}}function Ge(e){return e.map((function(e){return{id:e.id,scheduleName:e.scheduleName}}))}function He(e){return e.map((function(e){return{id:e.id,scheduleName:e.scheduleName,username:e.username}}))}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ue=Object(h.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:150},button:{margin:e.spacing(1)}}}));function Ae(e){var t=e.errorText,n=e.setErrorText,a=e.setLoading,o=e.addNewCourse,c=e.onClearAll,i=Ue(),l=r.a.useState({termID:"20201",courseID:""}),u=Object(ae.a)(l,2),s=u[0],m=u[1];function p(e){var t=e.target,n=t.name,a=t.value;m((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(g.a)({},n,a))}))}function f(){return(f=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(!0),E.a.get("/api/add-course",{params:{termID:s.termID,courseID:s.courseID}}).then((function(e){var t=e.data;"error"===t.status?n(t.message):(n(""),o(xe(t.data)))})).finally((function(){a(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(ge.a,{p:2,display:"flex",alignItems:"center"},r.a.createElement(ge.a,{flexGrow:1},r.a.createElement(j.a,{variant:"h6"},"Course Bin")),r.a.createElement(ge.a,null,r.a.createElement(be.a,{htmlFor:"termID"},"Term Code"),r.a.createElement(he.a,{className:i.textField,value:s.termID,onChange:p,inputProps:{name:"termID",id:"termID"}},r.a.createElement(Oe.a,{value:20201},"2020 Spring"),r.a.createElement(Oe.a,{value:20193},"2019 Fall"),r.a.createElement(Oe.a,{value:20192},"2019 Summer"))),r.a.createElement(ge.a,null,r.a.createElement(ce.a,{name:"courseID",value:s.courseID,onChange:p,className:i.textField,label:"Course Name",margin:"none",error:Boolean(t),helperText:t})),r.a.createElement(ge.a,null,r.a.createElement(d.a,{variant:"contained",size:"large",color:"primary",onClick:function(){return f.apply(this,arguments)}},"Add")),r.a.createElement(ge.a,{ml:1},r.a.createElement(d.a,{variant:"contained",size:"large",color:"primary",onClick:function(){c()}},"Clear")))}var We=Object(i.b)((function(e){return e.coursebinControl}),(function(e){return{addNewCourse:function(t){return e({type:"ADD_COURSE",newCourse:t})},onPenalizeChange:function(t){return e({type:"PENALIZE_CHANGE",id:t})},onIncludeChange:function(t){return e({type:"INCLUDE_CHANGE",id:t})},onClearAll:function(){return e({type:"CLEAR_ALL"})}}}))((function(e){var t=e.courses,n=e.addNewCourse,a=e.onPenalizeChange,o=e.onIncludeChange,c=e.onClearAll,i=r.a.useState(!1),l=Object(ae.a)(i,2),u=l[0],s=l[1],m=r.a.useState(""),p=Object(ae.a)(m,2),d=p[0],f=p[1],E=function(e){a(e.target.id)},g=function(e){o(e.target.id)};return r.a.createElement(we.a,{isLoading:u,data:t,columns:[{title:"Include",render:function(e){return r.a.createElement(ye.a,{id:e.id,style:{padding:0},checked:e.include,onChange:g})}},{title:"Name",field:"id"},{title:"Type",field:"class_type"},{title:"Penalized",render:function(e){return r.a.createElement(ye.a,{id:e.id,style:{padding:0},color:"default",checked:e.penalize,onChange:E})}},{title:"Time",field:"time"},{title:"Days",field:"days"},{title:"Instructor",field:"instructor"},{title:"Location",field:"location"}],parentChildData:function(e,t){return t.find((function(t){return t.id===e.parentId}))},options:{selection:!1,search:!1,sorting:!1,showTextRowsSelected:!1,padding:"dense"},components:{Toolbar:function(){return r.a.createElement(Ae,{errorText:d,setErrorText:f,setLoading:s,addNewCourse:n,onClearAll:c})}}})})),ze=n(173),Fe=n(447),Me=n(102),Ye=n(233),Ve=n(457),qe=n(181);function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Je=Object(h.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight1:{height:250,marginBottom:e.spacing(2)},fixedHeight2:{height:193}}}));var Ke=Object(i.b)((function(e){return e.preferenceControl}),(function(e){return{onTimeChange:function(t,n){return e({type:"SET_TIME",name:t,time:n})},onWeightChange:function(t,n){return e({type:"SET_WEIGHT",name:t,weight:n})},onAddNewReserved:function(t){return e({type:"ADD_NEW_RESERVED",newReserved:t})},onClearReserved:function(){return e({type:"CLEAR_RESERVED"})}}}))((function(e){var t=e.early,n=e.late,a=e.breaks,o=e.reserved,c=e.onTimeChange,i=e.onWeightChange,l=e.onAddNewReserved,u=e.onClearReserved,s=r.a.useState({start:690,end:750,length:45,weight:50}),m=Object(ae.a)(s,2),p=m[0],f=m[1],E=Je(),g=Object(b.a)(E.paper,E.fixedHeight1),h=Object(b.a)(E.paper,E.fixedHeight2);return r.a.createElement(Fe.a,{container:!0,spacing:3},r.a.createElement(Fe.a,{item:!0,xs:12,md:6,lg:6},r.a.createElement(Fe.a,{container:!0,spacing:3,direction:"column"},r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(Me.a,{className:h},r.a.createElement(Fe.a,{container:!0,spacing:2,direction:"column"},r.a.createElement(Fe.a,{item:!0},r.a.createElement(j.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"I hate getting up early.")),r.a.createElement(Fe.a,{item:!0},r.a.createElement(Fe.a,{container:!0,spacing:2},r.a.createElement(Fe.a,{item:!0},r.a.createElement(Ye.a,{color:"primary",label:"No"})),r.a.createElement(Fe.a,{item:!0,xs:!0},r.a.createElement(Ve.a,{id:"early",defaultValue:t.weight,valueLabelDisplay:"auto",step:10,marks:!0,min:0,max:100,onChangeCommitted:function(e,t){i("early",t)}})),r.a.createElement(Fe.a,{item:!0},r.a.createElement(Ye.a,{color:"primary",label:"Yes"})))),r.a.createElement(Fe.a,{item:!0},r.a.createElement(Fe.a,{container:!0,spacing:2},r.a.createElement(Fe.a,{item:!0},r.a.createElement(j.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"How early is too early?")),r.a.createElement(Fe.a,{item:!0,xs:2},r.a.createElement(ze.b,{inputProps:{style:{textAlign:"center"}},value:De(t.time),onChange:function(e){c("early",Pe(e))}}))))))),r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(Me.a,{className:h},r.a.createElement(Fe.a,{container:!0,spacing:2,direction:"column"},r.a.createElement(Fe.a,{item:!0},r.a.createElement(j.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"I hate getting home late.")),r.a.createElement(Fe.a,{item:!0},r.a.createElement(Fe.a,{container:!0,spacing:2},r.a.createElement(Fe.a,{item:!0},r.a.createElement(Ye.a,{color:"primary",label:"No"})),r.a.createElement(Fe.a,{item:!0,xs:!0},r.a.createElement(Ve.a,{defaultValue:n.weight,valueLabelDisplay:"auto",step:10,marks:!0,min:0,max:100,onChangeCommitted:function(e,t){i("late",t)}})),r.a.createElement(Fe.a,{item:!0},r.a.createElement(Ye.a,{color:"primary",label:"Yes"})))),r.a.createElement(Fe.a,{item:!0},r.a.createElement(Fe.a,{container:!0,spacing:2},r.a.createElement(Fe.a,{item:!0},r.a.createElement(j.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"How late is too late?")),r.a.createElement(Fe.a,{item:!0,xs:2},r.a.createElement(ze.b,{inputProps:{style:{textAlign:"center"}},value:De(n.time),onChange:function(e){c("late",Pe(e))}}))))))),r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(Me.a,{className:h},r.a.createElement(Fe.a,{container:!0,spacing:2,direction:"column"},r.a.createElement(Fe.a,{item:!0},r.a.createElement(j.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"I hate long breaks between classes.")),r.a.createElement(Fe.a,{item:!0},r.a.createElement(Fe.a,{container:!0,spacing:2},r.a.createElement(Fe.a,{item:!0},r.a.createElement(Ye.a,{color:"primary",label:"No"})),r.a.createElement(Fe.a,{item:!0,xs:!0},r.a.createElement(Ve.a,{defaultValue:a.weight,valueLabelDisplay:"auto",step:10,marks:!0,min:0,max:100,onChangeCommitted:function(e,t){i("breaks",t)}})),r.a.createElement(Fe.a,{item:!0},r.a.createElement(Ye.a,{color:"primary",label:"Yes"})))),r.a.createElement(Fe.a,{item:!0},r.a.createElement(Fe.a,{container:!0,spacing:2},r.a.createElement(Fe.a,{item:!0},r.a.createElement(j.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"How long is too long?")),r.a.createElement(Fe.a,{item:!0,xs:3},r.a.createElement(ce.a,{type:"number",InputLabelProps:{shrink:!0},margin:"none",InputProps:{endAdornment:r.a.createElement(qe.a,{position:"end"},"Mins")},onChange:function(e){c("breaks",parseInt(e.target.value,10))},defaultValue:a.time}))))))))),r.a.createElement(Fe.a,{item:!0,xs:12,md:6,lg:6},r.a.createElement(Me.a,{className:g},r.a.createElement(Fe.a,{container:!0,spacing:2,direction:"column"},r.a.createElement(Fe.a,{item:!0},r.a.createElement(j.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"I need reserved breaks.")),r.a.createElement(Fe.a,{item:!0},r.a.createElement(Fe.a,{container:!0,spacing:2},r.a.createElement(Fe.a,{item:!0},r.a.createElement(Ye.a,{color:"primary",label:"From"})),r.a.createElement(Fe.a,{item:!0,xs:2},r.a.createElement(ze.b,{inputProps:{style:{textAlign:"center"}},value:De(p.start),onChange:function(e){f((function(t){return Ze({},t,{start:Pe(e)})}))}})),r.a.createElement(Fe.a,{item:!0},r.a.createElement(Ye.a,{color:"primary",label:"To"})),r.a.createElement(Fe.a,{item:!0,xs:2},r.a.createElement(ze.b,{inputProps:{style:{textAlign:"center"}},value:De(p.end),onChange:function(e){f((function(t){return Ze({},t,{end:Pe(e)})}))}})),r.a.createElement(Fe.a,{item:!0},r.a.createElement(Ye.a,{color:"primary",label:"For at least"})),r.a.createElement(Fe.a,{item:!0},r.a.createElement(ce.a,{style:{width:90},type:"number",InputLabelProps:{shrink:!0},margin:"none",InputProps:{endAdornment:r.a.createElement(qe.a,{position:"end"},"mins")},onChange:function(e){f((function(t){return Ze({},t,{length:parseInt(e.target.value,10)})}))},defaultValue:p.length})))),r.a.createElement(Fe.a,{item:!0},r.a.createElement(Fe.a,{container:!0,spacing:2},r.a.createElement(Fe.a,{item:!0},r.a.createElement(j.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Don't care")),r.a.createElement(Fe.a,{item:!0,xs:!0},r.a.createElement(Ve.a,{defaultValue:p.weight,valueLabelDisplay:"auto",step:10,marks:!0,min:0,max:100,onChangeCommitted:function(e,t){f((function(e){return Ze({},e,{weight:t})}))}})),r.a.createElement(Fe.a,{item:!0},r.a.createElement(j.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"I mean it")))),r.a.createElement(Fe.a,{item:!0},r.a.createElement(Fe.a,{container:!0,spacing:2},r.a.createElement(Fe.a,{item:!0,xs:6},r.a.createElement(d.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){l(p)}},"Add")),r.a.createElement(Fe.a,{item:!0,xs:6},r.a.createElement(d.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){u()}},"Clear")))))),r.a.createElement(we.a,{data:o,columns:[{title:"Start",field:"start",render:function(e){return De(e.start).format("h:mm a")}},{title:"End",field:"end",render:function(e){return De(e.end).format("h:mm a")}},{title:"Length (mins)",field:"length"},{title:"Weight",field:"weight"}],options:{search:!1,sorting:!1,selection:!1,toolbar:!1,pageSizeOptions:[],pageSize:7,padding:"dense"}})))})),Qe=n(89),$e=(n(176),n(401),n(445)),et=Object(h.a)((function(e){return{popover:{pointerEvents:"none"},paper:{padding:e.spacing(1)}}}));function tt(e){var t=et(),n=r.a.useState(null),a=Object(ae.a)(n,2),o=a[0],c=a[1],i=function(){c(null)},l=Boolean(o);return r.a.createElement("div",null,r.a.createElement(j.a,{align:"center",variant:"body2","aria-owns":l?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:function(e){c(e.currentTarget)},onMouseLeave:i},e.title," ",r.a.createElement("br",null),e.event.type),r.a.createElement($e.a,{id:"mouse-over-popover",className:t.popover,classes:{paper:t.paper},open:l,anchorEl:o,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:i,disableRestoreFocus:!0},r.a.createElement(j.a,null,"Name: ",e.title,r.a.createElement("br",null),"Type: ",e.event.type,r.a.createElement("br",null),"Section: ",e.event.ID,r.a.createElement("br",null),"Instructor: ",e.event.instructor,r.a.createElement("br",null),"Location: ",e.event.location,r.a.createElement("br",null))))}function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=Object(h.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{display:"flex",flexDirection:"column",alignItems:"center",width:500},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},submit:{margin:e.spacing(3,0,2)}}}));var ot=Object(i.b)((function(e){return e.scheduleControl}),(function(e){return{onDialogClick:function(t){return e({type:"TOGGLE_SAVE_TO_HISTORY",openDialog:t})}}}))(Object(p.withSnackbar)((function(e){var t=e.schedules,n=e.selectedScheduleID,a=e.openDialog,o=e.onDialogClick,c=e.enqueueSnackbar,i=r.a.useState({scheduleName:""}),l=Object(ae.a)(i,2),u=l[0],s=l[1],m=r.a.useState(""),p=Object(ae.a)(m,2),f=p[0],b=p[1],h=rt(),y=function(){b(""),o(!1)},v=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""===u.scheduleName?b("Schedule name cannot be empty."):E.a.post("/api/save",at({},t.find((function(e){return e.id===n})),{scheduleName:u.scheduleName})).then((function(e){"ok"===e.data.type&&(y(),c("".concat(u.scheduleName," Successfully saved to History!"),{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"right"}}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(re.a,{"aria-labelledby":"simple-dialog-title",open:a,onClose:y},r.a.createElement(oe.a,{component:"main"},r.a.createElement(O.a,null),r.a.createElement("div",{className:h.paper},r.a.createElement(Fe.a,{container:!0,spacing:4,direction:"row",alignContent:"center",justify:"center"},r.a.createElement(Fe.a,{item:!0,xs:9},r.a.createElement(ce.a,{error:Boolean(f),helperText:f,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Choose a name for the schedule",name:"scheduleName",value:u.scheduleName,onChange:function(e){var t=e.target,n=t.name,a=t.value;s((function(e){return at({},e,Object(g.a)({},n,a))}))}})),r.a.createElement(Fe.a,{item:!0,xs:3},r.a.createElement(d.a,{size:"large",type:"submit",variant:"contained",fullWidth:!0,color:"primary",className:h.submit,onClick:v},"Submit"))))))})));function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var it=Object(h.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:"80vh"}}}));var lt=Object(i.b)((function(e){var t=e.scheduleControl,n=e.coursebinControl,a=e.preferenceControl,r=e.userControl;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{courses:n.courses,preferences:a,user:r})}),(function(e){return{onRowClick:function(t){return e({type:"SET_SELECTED_ID",selectedScheduleID:t})},onGenSchedules:function(t){return e({type:"GEN_SCHEDULES",schedules:t})},onDialogClick:function(t){return e({type:"TOGGLE_SAVE_TO_HISTORY",openDialog:t})}}}))((function(e){var t=e.courses,n=e.preferences,a=e.schedules,o=e.selectedScheduleID,c=e.onRowClick,i=e.onGenSchedules,l=e.user,u=e.onDialogClick,s=r.a.useState(!1),m=Object(ae.a)(s,2),p=m[0],f=m[1],g=r.a.useState(!1),h=Object(ae.a)(g,2),O=h[0],y=h[1],v=it(),w=Object(b.a)(v.paper,v.fixedHeight),j=Object(Qe.b)(Se.a),S=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0),E.a.post("api/generate-schedule",Re(t,n)).then((function(e){var t=e.data;console.log(t),setTimeout((function(){f(!1),i(t.results)}),1e3)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Fe.a,{container:!0,spacing:3},r.a.createElement(Fe.a,{item:!0,xs:12,md:6,lg:4},r.a.createElement(Fe.a,{container:!0,spacing:5,direction:"column"},r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(we.a,{isLoading:p,data:ke(a),columns:[{title:"Id",field:"id",defaultSort:"asc"},{title:"Total",field:"total",defaultSort:"asc"},{title:"Early",field:"early",defaultSort:"asc"},{title:"Late",field:"late",defaultSort:"asc"},{title:"Breaks",field:"breaks",defaultSort:"asc"},{title:"Reserved",field:"reserved",defaultSort:"asc"}],options:{search:!1,sorting:!0,selection:!1,pageSize:10,pageSizeOptions:[],padding:"dense",rowStyle:function(e){return{backgroundColor:0!==o&&o===e.id?"#EEE":"#FFF"}}},title:"Results",onRowClick:function(e,t){c(t.id)}})),r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(d.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:S},"Generate Schedules")))),r.a.createElement(Fe.a,{item:!0,xs:12,md:6,lg:8},r.a.createElement(Me.a,{className:w},r.a.createElement(Fe.a,{container:!0,spacing:4,direction:"row"},r.a.createElement(Fe.a,{item:!0,xs:4},r.a.createElement(d.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:function(){y(!O)}},"Zoom ",O?"Out":"In")),r.a.createElement(Fe.a,{item:!0,xs:4},r.a.createElement(d.a,{color:"primary",variant:"contained",fullWidth:!0,disabled:!l.status||void 0===a.find((function(e){return e.id===o})),onClick:function(){u(!0)}},"Save to History"),r.a.createElement(ot,null)),r.a.createElement(Fe.a,{item:!0,xs:4},r.a.createElement(d.a,{color:"primary",variant:"contained",fullWidth:!0},"Export"))),r.a.createElement(ge.a,{mt:3},r.a.createElement(Qe.a,{localizer:j,defaultView:"work_week",views:["work_week"],defaultDate:new Date(Se()("1880-10-06 00:00")),events:function(){var e=a.find((function(e){return e.id===o}));return e?Ie(e.sections.filter((function(e){return void 0!==e.time}))):[]}(),style:{maxHeight:"65vh"},toolbar:!1,min:new Date("1880-10-06 08:00"),max:new Date("1880-10-06 20:00"),step:15,timeslots:O?2:4,components:{event:tt},formats:{dayFormat:"ddd"}})))))}));function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var st=Object(h.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:"80vh"}}}));var mt=Object(i.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.historyControl,{socket:e.userControl.socket})}),(function(e){return{onRowClick:function(t){return e({type:"SET_HISTORY_SELECTED_ID",selectedScheduleID:t})},onHistoryGet:function(t){return e({type:"GET_HISTORY_SCHEDULES",schedules:t})}}}))((function(e){var t=e.schedules,n=e.selectedScheduleID,a=e.onRowClick,o=e.onHistoryGet,c=r.a.useState(!1),i=Object(ae.a)(c,2),l=i[0],u=i[1],s=r.a.useState(!1),m=Object(ae.a)(s,2),p=m[0],f=m[1],g=st(),h=Object(b.a)(g.paper,g.fixedHeight),O=Object(Qe.b)(Se.a),y=t.find((function(e){return e.id===n}));return r.a.useEffect((function(){f(!0),E.a.get("/api/history").then((function(e){var t=e.data;t.error||(o(t.results),t.results.length>0&&a(t.results[t.results.length-1].id))})).finally((function(){f(!1)}))}),[o]),r.a.createElement(Fe.a,{container:!0,spacing:3},r.a.createElement(Fe.a,{item:!0,xs:12,md:6,lg:4},r.a.createElement(Fe.a,{container:!0,spacing:5,direction:"column"},r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(we.a,{isLoading:p,data:Ge(t),columns:[{title:"Id",field:"id",defaultSort:"asc"},{title:"Schedule Name",field:"scheduleName",defaultSort:"asc"}],options:{search:!1,sorting:!0,selection:!1,pageSize:13,pageSizeOptions:[],padding:"dense",rowStyle:function(e){return{backgroundColor:0!==n&&n===e.id?"#EEE":"#FFF"}}},title:"History",onRowClick:function(e,t){a(t.id)}})))),r.a.createElement(Fe.a,{item:!0,xs:12,md:6,lg:8},r.a.createElement(Me.a,{className:h},r.a.createElement(Fe.a,{container:!0,spacing:5,direction:"row",justify:"center"},r.a.createElement(Fe.a,{item:!0,xs:4},r.a.createElement(d.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:function(){u(!l)}},"Zoom ",l?"Out":"In")),r.a.createElement(Fe.a,{item:!0,xs:4},r.a.createElement(d.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:function(){var e=new WebSocket("ws://localhost:8080/api/broadcast-schedules");e.addEventListener("message",(function(t){console.log("Message from sent ",t.data),f(!0),E.a.get("/api/history").then((function(e){var t=e.data;t.error||o(t.results)})).finally((function(){f(!1),e.close()}))})),e.addEventListener("open",(function(){e.send(JSON.stringify({id:n,scheduleName:t.find((function(e){return e.id===n})).scheduleName}))}))},disabled:void 0===y||y.published},"Publish")),r.a.createElement(Fe.a,{item:!0,xs:4},r.a.createElement(d.a,{color:"primary",variant:"contained",fullWidth:!0},"Export"))),r.a.createElement(ge.a,{mt:3},r.a.createElement(Qe.a,{localizer:O,defaultView:"work_week",views:["work_week"],defaultDate:new Date(Se()("1880-10-06 00:00")),events:y?Ie(y.sections):[],style:{maxHeight:"65vh"},toolbar:!1,min:new Date("1880-10-06 08:00"),max:new Date("1880-10-06 20:00"),step:15,timeslots:l?2:4,components:{event:tt},formats:{dayFormat:"ddd"}})))))})),pt=Object(h.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:"80vh"}}}));var dt=Object(i.b)((function(e){return e.communityControl}),(function(e){return{onRowClick:function(t){return e({type:"SET_COMMUNITY_SELECTED_ID",selectedScheduleID:t})},onCommunityGet:function(t){return e({type:"GET_COMMUNITY_SCHEDULES",schedules:t})}}}))((function(e){var t=e.schedules,n=e.selectedScheduleID,a=e.onRowClick,o=e.onCommunityGet,c=r.a.useState(!1),i=Object(ae.a)(c,2),l=i[0],u=i[1],s=r.a.useState(!1),m=Object(ae.a)(s,2),p=m[0],f=m[1],g=pt(),h=Object(b.a)(g.paper,g.fixedHeight),O=Object(Qe.b)(Se.a);return r.a.useEffect((function(){f(!0),E.a.get("/api/public-schedules").then((function(e){var t=e.data;t.error||o(t.results)})).finally((function(){f(!1)}))}),[o]),r.a.createElement(Fe.a,{container:!0,spacing:3},r.a.createElement(Fe.a,{item:!0,xs:12,md:6,lg:4},r.a.createElement(Fe.a,{container:!0,spacing:5,direction:"column"},r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(we.a,{isLoading:p,data:He(t),columns:[{title:"Id",field:"id",defaultSort:"asc"},{title:"Username",field:"username",defaultSort:"asc"},{title:"Schedule Name",field:"scheduleName",defaultSort:"asc"}],options:{search:!1,sorting:!0,selection:!1,pageSize:13,pageSizeOptions:[],padding:"dense",rowStyle:function(e){return{backgroundColor:0!==n&&n===e.id?"#EEE":"#FFF"}}},title:"Community",onRowClick:function(e,t){a(t.id)}})))),r.a.createElement(Fe.a,{item:!0,xs:12,md:6,lg:8},r.a.createElement(Me.a,{className:h},r.a.createElement(Fe.a,{container:!0,spacing:5,direction:"row",justify:"center"},r.a.createElement(Fe.a,{item:!0,xs:4},r.a.createElement(d.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:function(){u(!l)}},"Zoom ",l?"Out":"In")),r.a.createElement(Fe.a,{item:!0,xs:4},r.a.createElement(d.a,{color:"primary",variant:"contained",fullWidth:!0},"Export"))),r.a.createElement(ge.a,{mt:3},r.a.createElement(Qe.a,{localizer:O,defaultView:"work_week",views:["work_week"],defaultDate:new Date(Se()("1880-10-06 00:00")),events:function(){var e=t.find((function(e){return e.id===n}));return e?Ie(e.sections):[]}(),style:{maxHeight:"65vh"},toolbar:!1,min:new Date("1880-10-06 08:00"),max:new Date("1880-10-06 20:00"),step:15,timeslots:l?2:4,components:{event:tt},formats:{dayFormat:"ddd"}})))))})),ft=Object(h.a)((function(e){return{appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}}));var Et=function(e){var t=e.tabId,n=ft();return r.a.createElement("main",{className:n.content},r.a.createElement("div",{className:n.appBarSpacer}),r.a.createElement(oe.a,{maxWidth:"xl",className:n.container},function(){switch(t){case Ee.COURSE_BIN:return r.a.createElement(We,null);case Ee.PREFERENCE:return r.a.createElement(Ke,null);case Ee.SCHEDULE:return r.a.createElement(lt,null);case Ee.HISTORY:return r.a.createElement(mt,null);case Ee.COMMUNITY:return r.a.createElement(dt,null);default:return""}}()))};function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht=Object(h.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:bt({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:280,width:"calc(100% - ".concat(280,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:280,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(g.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:480},purple:{color:"#fff",backgroundColor:_.a[500]}}})),Ot=Object(h.a)((function(){return{tooltip:{fontSize:15}}}));var yt=Object(i.b)((function(e){return bt({},e.tabsControl,{user:e.userControl})}),(function(e){return{onTabClick:function(t,n){return e({type:"CHANGE_TAB",tabId:t,tabName:n})},onDrawerClick:function(t){return e({type:"TOGGLE_DRAWER",openDrawer:t})},onLoginClick:function(t){return e({type:"TOGGLE_LOGIN",openLogin:t})},onLogOut:function(){return e({type:"USER_LOGOUT"})}}}))((function(e){var t=e.tabId,n=e.tabName,a=e.openDrawer,o=e.onTabClick,c=e.onDrawerClick,i=e.onLoginClick,l=e.user,u=e.onLogOut,s=ht(),m=Ot(),p=function(e,t){o(e,t)};return r.a.createElement("div",{className:s.root},r.a.createElement(O.a,null),r.a.createElement(y.a,{position:"absolute",className:Object(b.a)(s.appBar,a&&s.appBarShift)},r.a.createElement(v.a,{className:s.toolbar},r.a.createElement(w.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){c(!0)},className:Object(b.a)(s.menuButton,a&&s.menuButtonHidden)},r.a.createElement(H.a,null)),r.a.createElement(j.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:s.title},n),l.status&&r.a.createElement(S.a,{title:l.username,classes:m},r.a.createElement(C.a,{className:s.purple},l.username[0])),l.status?r.a.createElement(S.a,{title:"Log Out",classes:m},r.a.createElement(w.a,{color:"inherit",onClick:function(){E.a.get("/api/logout").finally((function(){u(),o(Ee.COURSE_BIN,"Course Bin")}))}},r.a.createElement(K.a,null))):r.a.createElement(S.a,{title:"Sign In",classes:m},r.a.createElement(w.a,{color:"inherit",onClick:function(){i(!0)}},r.a.createElement(U.a,null))))),r.a.createElement(D.a,{variant:"permanent",classes:{paper:Object(b.a)(s.drawerPaper,!a&&s.drawerPaperClose)},open:a},r.a.createElement("div",{className:s.toolbarIcon},r.a.createElement(w.a,{onClick:function(){c(!1)}},r.a.createElement(R.a,null))),r.a.createElement(P.a,null),r.a.createElement(I.a,null,r.a.createElement(k.a,{button:!0,selected:t===Ee.COURSE_BIN,onClick:function(){p(Ee.COURSE_BIN,"Course Bin")}},r.a.createElement(x.a,null,r.a.createElement(W.a,null)),r.a.createElement(N.a,{primary:"Course Bin"})),r.a.createElement(k.a,{button:!0,selected:t===Ee.PREFERENCE,onClick:function(){p(Ee.PREFERENCE,"Preference")}},r.a.createElement(x.a,null,r.a.createElement(F.a,null)),r.a.createElement(N.a,{primary:"Preference"})),r.a.createElement(k.a,{button:!0,selected:t===Ee.SCHEDULE,onClick:function(){p(Ee.SCHEDULE,"Schedule")}},r.a.createElement(x.a,null,r.a.createElement(Z.a,null)),r.a.createElement(N.a,{primary:"Schedule"})),r.a.createElement(k.a,{button:!0,disabled:!l.status,selected:t===Ee.HISTORY,onClick:function(){p(Ee.HISTORY,"History")}},r.a.createElement(x.a,null,r.a.createElement(q.a,null)),r.a.createElement(N.a,{primary:"History"}),!l.status&&a&&r.a.createElement(T.a,null,r.a.createElement(S.a,{title:"Please log in to use History.",classes:m},r.a.createElement(w.a,null,r.a.createElement($.a,null))))),r.a.createElement(k.a,{button:!0,selected:t===Ee.COMMUNITY,onClick:function(){p(Ee.COMMUNITY,"Community")}},r.a.createElement(x.a,null,r.a.createElement(Y.a,null)),r.a.createElement(N.a,{primary:"Community"})))),r.a.createElement(Et,{tabId:t}),r.a.createElement(me,null),r.a.createElement(fe,null))}));var vt=Object(i.b)(null,(function(e){return{onLogIn:function(t){return e({type:"USER_LOGIN",username:t})},onTabClick:function(t,n){return e({type:"CHANGE_TAB",tabId:t,tabName:n})},onRowClick:function(t){return e({type:"SET_COMMUNITY_SELECTED_ID",selectedScheduleID:t})}}}))(Object(p.withSnackbar)((function(e){var t=e.enqueueSnackbar,n=e.onLogIn,a=e.onTabClick,o=e.onRowClick;r.a.useEffect((function(){E.a.get("/api/login-status").then((function(e){var t=e.data;"true"===t.type&&n(t.message)}))}),[]);var c=function(e){return r.a.createElement(d.a,{color:"secondary",variant:"contained",onClick:function(){return i(e)}},"Have a look!")},i=function(e){o(e),a(Ee.COMMUNITY,"Community")};return new WebSocket("ws://localhost:8080/api/broadcast-schedules").addEventListener("message",(function(e){var n=JSON.parse(e.data);console.log(n);var a=n.username,r=n.scheduleName,o=n.scheduleId;t("".concat(a," has published a new schedule ").concat(r),{key:o,variant:"info",action:c,autoHideDuration:1e4,anchorOrigin:{vertical:"bottom",horizontal:"right"}})})),r.a.createElement(yt,null)}))),wt=n(59);function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ct={tabId:0,tabName:"Course Bin",openDrawer:!0,openLogin:!1,openRegister:!1},Dt=n(25);function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kt={courses:[]};function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tt={early:{time:480,weight:50},late:{time:900,weight:50},breaks:{time:10,weight:50},reserved:[]};function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rt={schedules:[],selectedScheduleID:1,openDialog:!1};function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt={schedules:[],selectedScheduleID:1};function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wt={schedules:[],selectedScheduleID:1},zt={status:!1,username:""},Ft=Object(wt.c)({tabsControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_TAB":return St({},e,{tabId:t.tabId,tabName:t.tabName});case"TOGGLE_DRAWER":return St({},e,{openDrawer:t.openDrawer});case"TOGGLE_LOGIN":return St({},e,{openLogin:t.openLogin});case"TOGGLE_REGISTER":return St({},e,{openRegister:t.openRegister});default:return e}},coursebinControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COURSE":return{courses:[].concat(Object(Dt.a)(e.courses),Object(Dt.a)(t.newCourse))};case"PENALIZE_CHANGE":var n=e.courses.map((function(n){if(n.id===t.id)return It({},n,{penalize:!n.penalize});var a=e.courses.find((function(e){return e.id===n.parentId}));if(n.parentId===t.id)return It({},n,{penalize:!a.penalize});if(a&&a.parentId===t.id){var r=e.courses.find((function(e){return e.id===a.parentId}));return It({},n,{penalize:!r.penalize})}return n}));return{courses:Object(Dt.a)(n)};case"INCLUDE_CHANGE":var a=e.courses.map((function(n){if(n.id===t.id)return It({},n,{include:!n.include});var a=e.courses.find((function(e){return e.id===n.parentId}));if(n.parentId===t.id)return It({},n,{include:!a.include});if(a&&a.parentId===t.id){var r=e.courses.find((function(e){return e.id===a.parentId}));return It({},n,{include:!r.include})}return n}));return{courses:Object(Dt.a)(a)};case"CLEAR_ALL":return{courses:[]};default:return e}},preferenceControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TIME":return Nt({},e,Object(g.a)({},t.name,Nt({},e[t.name],{time:t.time})));case"SET_WEIGHT":return Nt({},e,Object(g.a)({},t.name,Nt({},e[t.name],{weight:t.weight})));case"ADD_NEW_RESERVED":return Nt({},e,{reserved:[].concat(Object(Dt.a)(e.reserved),[t.newReserved])});case"CLEAR_RESERVED":return Nt({},e,{reserved:[]});default:return e}},scheduleControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_ID":return Lt({},e,{selectedScheduleID:t.selectedScheduleID});case"GEN_SCHEDULES":return Lt({},e,{schedules:t.schedules});case"TOGGLE_SAVE_TO_HISTORY":return Lt({},e,{openDialog:t.openDialog});default:return e}},historyControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HISTORY_SELECTED_ID":return Ht({},e,{selectedScheduleID:t.selectedScheduleID});case"GET_HISTORY_SCHEDULES":return Ht({},e,{schedules:t.schedules});default:return e}},communityControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COMMUNITY_SELECTED_ID":return At({},e,{selectedScheduleID:t.selectedScheduleID});case"GET_COMMUNITY_SCHEDULES":return At({},e,{schedules:t.schedules});default:return e}},userControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":return{status:!0,username:t.username};case"USER_LOGOUT":return{status:!1,username:""};default:return e}}}),Mt=Object(wt.e)(Ft,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Yt=Object(s.a)({palette:{primary:{main:"#990000",dark:"#990000"},secondary:{main:"#990000",dark:"#990000"}}});c.a.render(r.a.createElement(i.a,{store:Mt},r.a.createElement(m.a,{theme:Yt},r.a.createElement(p.SnackbarProvider,null,r.a.createElement(u.a,{utils:l.a},r.a.createElement(vt,null))))),document.getElementById("root"))}},[[276,1,2]]]);
//# sourceMappingURL=main.05b1c8ac.chunk.js.map