(this["webpackJsonpusc-course-scheduler"]=this["webpackJsonpusc-course-scheduler"]||[]).push([[0],{277:function(e,t,n){e.exports=n(402)},298:function(e,t,n){},402:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),i=n.n(o),c=n(23),l=n(234),u=n(20),s=n(142),m=n(52),p=n(291),d=n(74),f=(n(298),n(149)),g=n(259),E=n.n(g),b=n(30),h=n.n(b),O=n(6),y=n(2),v=n(441),w=n(446),j=n(179),C=n(55),S=n(231),D=n(447),I=n(448),P=n(449),k=n(444),x=n(415),N=n(450),T=n(226),L=n(451),_=n(252),R=n.n(_),G=n(249),H=n.n(G),B=n(251),U=n.n(B),A=n(253),W=n.n(A),z=n(254),F=n.n(z),M=n(258),Y=n.n(M),V=n(256),q=n.n(V),X=n(255),Z=n.n(X),J=n(250),K=n.n(J),Q=n(257),$=n.n(Q),ee=n(46),te=n.n(ee),ne=n(76),ae=n(16),re=n(438),oe=n(440),ie=n(159),ce=n(178);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ue=Object(m.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",width:350},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},button:{margin:e.spacing(3,0,2)}}}));var se=Object(c.b)((function(e){return e.tabsControl}),(function(e){return{onLoginClick:function(t){return e({type:"TOGGLE_LOGIN",openLogin:t})},onRegisterClick:function(t){return e({type:"TOGGLE_REGISTER",openRegister:t})},onLogIn:function(t){return e({type:"USER_LOGIN",username:t})}}}))(Object(d.withSnackbar)((function(e){var t=e.openLogin,n=e.onLoginClick,a=e.onRegisterClick,o=e.onLogIn,i=e.enqueueSnackbar,c=r.a.useState({username:"",password:""}),l=Object(ae.a)(c,2),u=l[0],s=l[1],m=r.a.useState(""),p=Object(ae.a)(m,2),d=p[0],f=p[1],g=ue(),E=function(){n(!1)},b=function(e){var t=e.target,n=t.name,a=t.value;s((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(O.a)({},n,a))}))},y=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.a.get("/api/login",{params:{username:u.username,password:u.password}}).then((function(e){var t=e.data;"error"===t.type?f(t.message):"ok"===t.type&&(o(u.username),s({username:"",password:""}),f(""),E(),i("Successfully log in!",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"right"}}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(re.a,{"aria-labelledby":"simple-dialog-title",open:t,onClose:E},r.a.createElement(oe.a,{component:"main",maxWidth:"xs"},r.a.createElement(v.a,null),r.a.createElement("div",{className:g.paper},r.a.createElement("img",{src:"img/logo.png",alt:"Logo",width:"183",height:"46"}),r.a.createElement("br",null),r.a.createElement(ie.a,{error:Boolean(d),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",value:u.username,onChange:b,autoFocus:!0}),r.a.createElement(ie.a,{error:Boolean(d),helperText:d,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",value:u.password,onChange:b,label:"Password",type:"password",id:"password"}),r.a.createElement(ce.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:g.button,onClick:y},"Sign In"),r.a.createElement(ce.a,{fullWidth:!0,className:g.button,onClick:function(){n(!1),a(!0)}},"Don't have an account? Sign Up"))))})));function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var pe=Object(m.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",width:350},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},submit:{margin:e.spacing(3,0,2)},button:{margin:e.spacing(3,0,2)}}}));var de=Object(c.b)((function(e){return e.tabsControl}),(function(e){return{onLoginClick:function(t){return e({type:"TOGGLE_LOGIN",openLogin:t})},onRegisterClick:function(t){return e({type:"TOGGLE_REGISTER",openRegister:t})},onLogIn:function(t){return e({type:"USER_LOGIN",username:t})}}}))(Object(d.withSnackbar)((function(e){var t=e.openRegister,n=e.onRegisterClick,a=e.onLogIn,o=e.enqueueSnackbar,i=e.onLoginClick,c=r.a.useState({username:"",password:"",confirmation:""}),l=Object(ae.a)(c,2),u=l[0],s=l[1],m=r.a.useState(""),p=Object(ae.a)(m,2),d=p[0],f=p[1],g=pe(),E=function(){n(!1)},b=function(e){var t=e.target,n=t.name,a=t.value;s((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(O.a)({},n,a))}))},y=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(u),h.a.get("/api/register",{params:{username:u.username,password:u.password,confirmation:u.confirmation}}).then((function(e){var t=e.data;"error"===t.type?f(t.message):"ok"===t.type&&(a(u.username),s({username:"",password:"",confirmation:""}),f(""),E(),o("Successfully log in!",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"right"}}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(re.a,{"aria-labelledby":"simple-dialog-title",open:t,onClose:E},r.a.createElement(oe.a,{component:"main"},r.a.createElement(v.a,null),r.a.createElement("div",{className:g.paper},r.a.createElement("img",{src:"img/logo.png",alt:"Logo",width:"183",height:"46"}),r.a.createElement("br",null),r.a.createElement(ie.a,{error:Boolean(d),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Username",name:"username",value:u.username,onChange:b,autoFocus:!0}),r.a.createElement(ie.a,{error:Boolean(d),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",name:"password",value:u.password,onChange:b,type:"password"}),r.a.createElement(ie.a,{error:Boolean(d),helperText:d,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Confirm Password",name:"confirmation",value:u.confirmation,onChange:b,type:"password"}),r.a.createElement(ce.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:g.submit,onClick:y},"Sign Up"),r.a.createElement(ce.a,{fullWidth:!0,className:g.button,onClick:function(){n(!1),i(!0)}},"Go Back To Sing In"))))}))),fe={COURSE_BIN:0,PREFERENCE:1,SCHEDULE:2,HISTORY:3,COMMUNITY:4},ge=n(452),Ee=n(230),be=n(228),he=n(213),Oe=n(229),ye=n(77),ve=n.n(ye),we=n(41),je=n.n(we),Ce=n(246),Se=n.n(Ce);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ie(e){return je()("1880-10-06 00:00").add(e,"m")}function Pe(e){return e.diff(je()("1880-10-06 00:00"),"m")}function ke(e){var t=[];return e.forEach((function(e){e.days.forEach((function(n){t.push({title:e.name,type:e.type,ID:e.ID,instructor:e.instructor,location:e.location,start:new Date(je()("1880-10-03 00:00").add(e.time.start,"m").add(n,"d")),end:new Date(je()("1880-10-03 00:00").add(e.time.end,"m").add(n,"d"))})}))})),t}function xe(e){return e.map((function(e){return{id:e.id,total:e.total,early:e.early,late:e.late,breaks:e.breaks,reserved:e.reserved}}))}function Ne(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{penalize:!0,include:!0})}))}var Te=["M","Tue","W","Thu","F"];function Le(e){for(var t=[],n=0;n<5;)e.indexOf(Te[n])>=0&&t.push(n+1),n+=1;return t}function _e(e){var t=e.indexOf("-"),n=Re(e.slice(0,t)),a=Re(e.slice(t+1,-2));return"pm"===e.slice(-2)&&a<720&&(n+=720,a+=720),n>a&&(n-=720),isNaN(n)||isNaN(a)?null:{start:n,end:a}}function Re(e){var t=e.indexOf(":");return 60*parseInt(e.slice(0,t),10)+parseInt(e.slice(t+1),10)}function Ge(e,t){var n=[];return e.filter((function(e){return"adult"===e.type})).forEach((function(t){var a=[];e.filter((function(e){return e.parentId===t.id})).forEach((function(n){var r=e.filter((function(e){return e.parentId===n.id&&e.include})).map((function(e){return{name:t.id,ID:e.id,type:e.class_type,instructor:e.instructor,location:e.location,days:Le(e.days),time:_e(e.time),include:e.include,penalize:e.penalize}}));r.length>0&&a.push({name:n.id,elements:r})})),a.length>0&&n.push({name:t.id,elements:a})})),{courses:n,preferences:t}}function He(e){return e.map((function(e){return{id:e.id,scheduleName:e.scheduleName}}))}function Be(e){return e.map((function(e){return{id:e.id,scheduleName:e.scheduleName,username:e.username}}))}function Ue(){Se()(document.querySelector("#cal")).then((function(e){var t=document.createElement("a");t.href=e.toDataURL("image/png"),t.download="myfile.png",t.click()}))}function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var We=Object(m.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:150},button:{margin:e.spacing(1)}}}));function ze(e){var t=e.errorText,n=e.setErrorText,a=e.setLoading,o=e.addNewCourse,i=e.onClearAll,c=We(),l=r.a.useState({termID:"20201",courseID:""}),u=Object(ae.a)(l,2),s=u[0],m=u[1];function p(e){var t=e.target,n=t.name,a=t.value;m((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(O.a)({},n,a))}))}function d(){return(d=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(!0),h.a.get("/api/add-course",{params:{termID:s.termID,courseID:s.courseID}}).then((function(e){var t=e.data;console.log(t),"error"===t.status?n(t.message):(n(""),o(Ne(t.data)))})).finally((function(){a(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(ge.a,{p:2,display:"flex",alignItems:"center"},r.a.createElement(ge.a,{flexGrow:1},r.a.createElement(C.a,{variant:"h6"},"Course Bin")),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{htmlFor:"termID"},"Term Code"),r.a.createElement(be.a,{className:c.textField,value:s.termID,onChange:p,inputProps:{name:"termID",id:"termID"}},r.a.createElement(he.a,{value:20201},"2020 Spring"),r.a.createElement(he.a,{value:20193},"2019 Fall"),r.a.createElement(he.a,{value:20192},"2019 Summer"))),r.a.createElement(ge.a,null,r.a.createElement(ie.a,{name:"courseID",value:s.courseID,onChange:p,className:c.textField,label:"Course Name",margin:"none",error:Boolean(t),helperText:t})),r.a.createElement(ge.a,null,r.a.createElement(ce.a,{variant:"contained",size:"large",color:"primary",onClick:function(){return d.apply(this,arguments)}},"Add")),r.a.createElement(ge.a,{ml:1},r.a.createElement(ce.a,{variant:"contained",size:"large",color:"primary",onClick:function(){i()}},"Clear")))}var Fe=Object(c.b)((function(e){return e.coursebinControl}),(function(e){return{addNewCourse:function(t){return e({type:"ADD_COURSE",newCourse:t})},onPenalizeChange:function(t){return e({type:"PENALIZE_CHANGE",id:t})},onIncludeChange:function(t){return e({type:"INCLUDE_CHANGE",id:t})},onClearAll:function(){return e({type:"CLEAR_ALL"})}}}))((function(e){var t=e.courses,n=e.addNewCourse,a=e.onPenalizeChange,o=e.onIncludeChange,i=e.onClearAll,c=r.a.useState(!1),l=Object(ae.a)(c,2),u=l[0],s=l[1],m=r.a.useState(""),p=Object(ae.a)(m,2),d=p[0],f=p[1],g=function(e){a(e.target.id)},E=function(e){o(e.target.id)};return r.a.createElement(ve.a,{isLoading:u,data:t,columns:[{title:"Include",render:function(e){return r.a.createElement(Oe.a,{id:e.id,color:"primary",style:{padding:0},checked:e.include,onChange:E})}},{title:"Name",field:"id"},{title:"Type",field:"class_type"},{title:"Penalized",render:function(e){return r.a.createElement(Oe.a,{id:e.id,style:{padding:0},color:"primary",checked:e.penalize,onChange:g})}},{title:"Time",field:"time"},{title:"Days",field:"days"},{title:"Instructor",field:"instructor"},{title:"Location",field:"location"}],parentChildData:function(e,t){return t.find((function(t){return t.id===e.parentId}))},options:{selection:!1,search:!1,sorting:!1,showTextRowsSelected:!1,padding:"dense"},components:{Toolbar:function(){return r.a.createElement(ze,{errorText:d,setErrorText:f,setLoading:s,addNewCourse:n,onClearAll:i})}}})})),Me=n(172),Ye=n(445),Ve=n(102),qe=n(232),Xe=n(455),Ze=n(180);function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe=Object(m.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight1:{height:250,marginBottom:e.spacing(2)},fixedHeight2:{height:193}}}));var $e=Object(c.b)((function(e){return e.preferenceControl}),(function(e){return{onTimeChange:function(t,n){return e({type:"SET_TIME",name:t,time:n})},onWeightChange:function(t,n){return e({type:"SET_WEIGHT",name:t,weight:n})},onAddNewReserved:function(t){return e({type:"ADD_NEW_RESERVED",newReserved:t})},onClearReserved:function(){return e({type:"CLEAR_RESERVED"})}}}))((function(e){var t=e.early,n=e.late,a=e.breaks,o=e.reserved,i=e.onTimeChange,c=e.onWeightChange,l=e.onAddNewReserved,u=e.onClearReserved,s=r.a.useState({start:690,end:750,length:45,weight:50}),m=Object(ae.a)(s,2),p=m[0],d=m[1],f=Qe(),g=Object(y.a)(f.paper,f.fixedHeight1),E=Object(y.a)(f.paper,f.fixedHeight2);return r.a.createElement(Ye.a,{container:!0,spacing:3},r.a.createElement(Ye.a,{item:!0,xs:12,md:6,lg:6},r.a.createElement(Ye.a,{container:!0,spacing:3,direction:"column"},r.a.createElement(Ye.a,{item:!0,xs:12},r.a.createElement(Ve.a,{className:E},r.a.createElement(Ye.a,{container:!0,spacing:2,direction:"column"},r.a.createElement(Ye.a,{item:!0},r.a.createElement(C.a,{component:"h2",variant:"h6",gutterBottom:!0},"I hate getting up early.")),r.a.createElement(Ye.a,{item:!0},r.a.createElement(Ye.a,{container:!0,spacing:2},r.a.createElement(Ye.a,{item:!0},r.a.createElement(qe.a,{color:"primary",label:"No"})),r.a.createElement(Ye.a,{item:!0,xs:!0},r.a.createElement(Xe.a,{id:"early",defaultValue:t.weight,valueLabelDisplay:"auto",step:10,marks:!0,min:0,max:100,onChangeCommitted:function(e,t){c("early",t)}})),r.a.createElement(Ye.a,{item:!0},r.a.createElement(qe.a,{color:"primary",label:"Yes"})))),r.a.createElement(Ye.a,{item:!0},r.a.createElement(Ye.a,{container:!0,spacing:2},r.a.createElement(Ye.a,{item:!0},r.a.createElement(C.a,{component:"h2",variant:"h6",gutterBottom:!0},"How early is too early?")),r.a.createElement(Ye.a,{item:!0,xs:2},r.a.createElement(Me.b,{inputProps:{style:{textAlign:"center"}},value:Ie(t.time),onChange:function(e){i("early",Pe(e))}}))))))),r.a.createElement(Ye.a,{item:!0,xs:12},r.a.createElement(Ve.a,{className:E},r.a.createElement(Ye.a,{container:!0,spacing:2,direction:"column"},r.a.createElement(Ye.a,{item:!0},r.a.createElement(C.a,{component:"h2",variant:"h6",gutterBottom:!0},"I hate getting home late.")),r.a.createElement(Ye.a,{item:!0},r.a.createElement(Ye.a,{container:!0,spacing:2},r.a.createElement(Ye.a,{item:!0},r.a.createElement(qe.a,{color:"primary",label:"No"})),r.a.createElement(Ye.a,{item:!0,xs:!0},r.a.createElement(Xe.a,{defaultValue:n.weight,valueLabelDisplay:"auto",step:10,marks:!0,min:0,max:100,onChangeCommitted:function(e,t){c("late",t)}})),r.a.createElement(Ye.a,{item:!0},r.a.createElement(qe.a,{color:"primary",label:"Yes"})))),r.a.createElement(Ye.a,{item:!0},r.a.createElement(Ye.a,{container:!0,spacing:2},r.a.createElement(Ye.a,{item:!0},r.a.createElement(C.a,{component:"h2",variant:"h6",gutterBottom:!0},"How late is too late?")),r.a.createElement(Ye.a,{item:!0,xs:2},r.a.createElement(Me.b,{inputProps:{style:{textAlign:"center"}},value:Ie(n.time),onChange:function(e){i("late",Pe(e))}}))))))),r.a.createElement(Ye.a,{item:!0,xs:12},r.a.createElement(Ve.a,{className:E},r.a.createElement(Ye.a,{container:!0,spacing:2,direction:"column"},r.a.createElement(Ye.a,{item:!0},r.a.createElement(C.a,{component:"h2",variant:"h6",gutterBottom:!0},"I hate long breaks between classes.")),r.a.createElement(Ye.a,{item:!0},r.a.createElement(Ye.a,{container:!0,spacing:2},r.a.createElement(Ye.a,{item:!0},r.a.createElement(qe.a,{color:"primary",label:"No"})),r.a.createElement(Ye.a,{item:!0,xs:!0},r.a.createElement(Xe.a,{defaultValue:a.weight,valueLabelDisplay:"auto",step:10,marks:!0,min:0,max:100,onChangeCommitted:function(e,t){c("breaks",t)}})),r.a.createElement(Ye.a,{item:!0},r.a.createElement(qe.a,{color:"primary",label:"Yes"})))),r.a.createElement(Ye.a,{item:!0},r.a.createElement(Ye.a,{container:!0,spacing:2},r.a.createElement(Ye.a,{item:!0},r.a.createElement(C.a,{component:"h2",variant:"h6",gutterBottom:!0},"How long is too long?")),r.a.createElement(Ye.a,{item:!0,xs:3},r.a.createElement(ie.a,{type:"number",InputLabelProps:{shrink:!0},margin:"none",InputProps:{endAdornment:r.a.createElement(Ze.a,{position:"end"},"Mins")},onChange:function(e){i("breaks",parseInt(e.target.value,10))},defaultValue:a.time}))))))))),r.a.createElement(Ye.a,{item:!0,xs:12,md:6,lg:6},r.a.createElement(Ve.a,{className:g},r.a.createElement(Ye.a,{container:!0,spacing:2,direction:"column"},r.a.createElement(Ye.a,{item:!0},r.a.createElement(C.a,{component:"h2",variant:"h6",gutterBottom:!0},"I need reserved breaks.")),r.a.createElement(Ye.a,{item:!0},r.a.createElement(Ye.a,{container:!0,spacing:2},r.a.createElement(Ye.a,{item:!0},r.a.createElement(qe.a,{color:"primary",label:"From"})),r.a.createElement(Ye.a,{item:!0,xs:2},r.a.createElement(Me.b,{inputProps:{style:{textAlign:"center"}},value:Ie(p.start),onChange:function(e){d((function(t){return Ke({},t,{start:Pe(e)})}))}})),r.a.createElement(Ye.a,{item:!0},r.a.createElement(qe.a,{color:"primary",label:"To"})),r.a.createElement(Ye.a,{item:!0,xs:2},r.a.createElement(Me.b,{inputProps:{style:{textAlign:"center"}},value:Ie(p.end),onChange:function(e){d((function(t){return Ke({},t,{end:Pe(e)})}))}})),r.a.createElement(Ye.a,{item:!0},r.a.createElement(qe.a,{color:"primary",label:"For at least"})),r.a.createElement(Ye.a,{item:!0},r.a.createElement(ie.a,{style:{width:90},type:"number",InputLabelProps:{shrink:!0},margin:"none",InputProps:{endAdornment:r.a.createElement(Ze.a,{position:"end"},"mins")},onChange:function(e){d((function(t){return Ke({},t,{length:parseInt(e.target.value,10)})}))},defaultValue:p.length})))),r.a.createElement(Ye.a,{item:!0},r.a.createElement(Ye.a,{container:!0,spacing:2},r.a.createElement(Ye.a,{item:!0},r.a.createElement(C.a,{component:"h2",variant:"h6",gutterBottom:!0},"Don't care")),r.a.createElement(Ye.a,{item:!0,xs:!0},r.a.createElement(Xe.a,{defaultValue:p.weight,valueLabelDisplay:"auto",step:10,marks:!0,min:0,max:100,onChangeCommitted:function(e,t){d((function(e){return Ke({},e,{weight:t})}))}})),r.a.createElement(Ye.a,{item:!0},r.a.createElement(C.a,{component:"h2",variant:"h6",gutterBottom:!0},"I mean it")))),r.a.createElement(Ye.a,{item:!0},r.a.createElement(Ye.a,{container:!0,spacing:2},r.a.createElement(Ye.a,{item:!0,xs:6},r.a.createElement(ce.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){l(p)}},"Add")),r.a.createElement(Ye.a,{item:!0,xs:6},r.a.createElement(ce.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){u()}},"Clear")))))),r.a.createElement(ve.a,{data:o,columns:[{title:"Start",field:"start",render:function(e){return Ie(e.start).format("h:mm a")}},{title:"End",field:"end",render:function(e){return Ie(e.end).format("h:mm a")}},{title:"Length (mins)",field:"length"},{title:"Weight",field:"weight"}],options:{search:!1,sorting:!1,selection:!1,toolbar:!1,pageSizeOptions:[],pageSize:7,padding:"dense"}})))})),et=n(89),tt=(n(175),n(443)),nt=Object(m.a)((function(e){return{popover:{pointerEvents:"none"},paper:{padding:e.spacing(1)}}}));function at(e){var t=nt(),n=r.a.useState(null),a=Object(ae.a)(n,2),o=a[0],i=a[1],c=function(){i(null)},l=Boolean(o);return r.a.createElement("div",null,r.a.createElement(C.a,{align:"center",variant:"body2","aria-owns":l?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:function(e){i(e.currentTarget)},onMouseLeave:c},e.title," ",r.a.createElement("br",null),e.event.type),r.a.createElement(tt.a,{id:"mouse-over-popover",className:t.popover,classes:{paper:t.paper},open:l,anchorEl:o,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:c,disableRestoreFocus:!0},r.a.createElement(C.a,null,"Name: ",e.title,r.a.createElement("br",null),"Type: ",e.event.type,r.a.createElement("br",null),"Section: ",e.event.ID,r.a.createElement("br",null),"Instructor: ",e.event.instructor,r.a.createElement("br",null),"Location: ",e.event.location,r.a.createElement("br",null))))}function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it=Object(m.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{display:"flex",flexDirection:"column",alignItems:"center",width:500},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},submit:{margin:e.spacing(3,0,2)}}}));var ct=Object(c.b)((function(e){return e.scheduleControl}),(function(e){return{onDialogClick:function(t){return e({type:"TOGGLE_SAVE_TO_HISTORY",openDialog:t})}}}))(Object(d.withSnackbar)((function(e){var t=e.schedules,n=e.selectedScheduleID,a=e.openDialog,o=e.onDialogClick,i=e.enqueueSnackbar,c=r.a.useState({scheduleName:""}),l=Object(ae.a)(c,2),u=l[0],s=l[1],m=r.a.useState(""),p=Object(ae.a)(m,2),d=p[0],f=p[1],g=it(),E=function(){f(""),o(!1)},b=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""===u.scheduleName?f("Schedule name cannot be empty."):h.a.post("/api/save",ot({},t.find((function(e){return e.id===n})),{scheduleName:u.scheduleName})).then((function(e){"ok"===e.data.type&&(E(),i("".concat(u.scheduleName," Successfully saved to History!"),{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"right"}}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(re.a,{"aria-labelledby":"simple-dialog-title",open:a,onClose:E},r.a.createElement(oe.a,{component:"main"},r.a.createElement(v.a,null),r.a.createElement("div",{className:g.paper},r.a.createElement(Ye.a,{container:!0,spacing:4,direction:"row",alignContent:"center",justify:"center"},r.a.createElement(Ye.a,{item:!0,xs:9},r.a.createElement(ie.a,{error:Boolean(d),helperText:d,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Choose a name for the schedule",name:"scheduleName",value:u.scheduleName,onChange:function(e){var t=e.target,n=t.name,a=t.value;s((function(e){return ot({},e,Object(O.a)({},n,a))}))}})),r.a.createElement(Ye.a,{item:!0,xs:3},r.a.createElement(ce.a,{size:"large",type:"submit",variant:"contained",fullWidth:!0,color:"primary",className:g.submit,onClick:b},"Submit"))))))})));function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ut=Object(m.a)((function(){return{paper:{display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:580}}}));var st=Object(c.b)((function(e){var t=e.scheduleControl,n=e.coursebinControl,a=e.preferenceControl,r=e.userControl;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{courses:n.courses,preferences:a,user:r})}),(function(e){return{onRowClick:function(t){return e({type:"SET_SELECTED_ID",selectedScheduleID:t})},onGenSchedules:function(t){return e({type:"GEN_SCHEDULES",schedules:t})},onDialogClick:function(t){return e({type:"TOGGLE_SAVE_TO_HISTORY",openDialog:t})}}}))((function(e){var t=e.courses,n=e.preferences,a=e.schedules,o=e.selectedScheduleID,i=e.onRowClick,c=e.onGenSchedules,l=e.user,u=e.onDialogClick,s=r.a.useState(!1),m=Object(ae.a)(s,2),p=m[0],d=m[1],f=r.a.useState(!1),g=Object(ae.a)(f,2),E=g[0],b=g[1],O=ut(),v=Object(y.a)(O.paper,O.fixedHeight),w=Object(et.b)(je.a),j=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(!0),h.a.post("api/generate-schedule",Ge(t,n)).then((function(e){var t=e.data;console.log(t),setTimeout((function(){d(!1),c(t.results)}),1e3)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ye.a,{container:!0,spacing:3},r.a.createElement(Ye.a,{item:!0,xs:12,md:6,lg:4},r.a.createElement(Ye.a,{container:!0,spacing:5,direction:"column"},r.a.createElement(Ye.a,{item:!0,xs:12},r.a.createElement(ge.a,{height:549,mb:1},r.a.createElement(ve.a,{isLoading:p,data:xe(a),columns:[{title:"Id",field:"id",defaultSort:"asc"},{title:"Total",field:"total",defaultSort:"asc"},{title:"Early",field:"early",defaultSort:"asc"},{title:"Late",field:"late",defaultSort:"asc"},{title:"Breaks",field:"breaks",defaultSort:"asc"},{title:"Reserved",field:"reserved",defaultSort:"asc"}],options:{search:!1,sorting:!0,selection:!1,pageSize:11,pageSizeOptions:[],padding:"dense",rowStyle:function(e){return{backgroundColor:0!==o&&o===e.id?"#EEE":"#FFF"}}},title:"Results",onRowClick:function(e,t){i(t.id)}}))),r.a.createElement(Ye.a,{item:!0,xs:12},r.a.createElement(ce.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:j},"Generate Schedules")))),r.a.createElement(Ye.a,{item:!0,xs:12,md:6,lg:8},r.a.createElement(Ye.a,{container:!0,spacing:2,direction:"column"},r.a.createElement(Ye.a,{item:!0},r.a.createElement(Ve.a,{className:v},r.a.createElement(ge.a,{id:"cal"},r.a.createElement(et.a,{id:"timetable",localizer:w,defaultView:"work_week",views:["work_week"],defaultDate:new Date(je()("1880-10-06 00:00")),events:function(){var e=a.find((function(e){return e.id===o}));return e?ke(e.sections.filter((function(e){return void 0!==e.time}))):[]}(),style:{maxHeight:2e3},toolbar:!1,min:new Date("1880-10-06 08:00"),max:new Date("1880-10-06 22:00"),step:15,timeslots:E?2:4,components:{event:at},formats:{dayFormat:"ddd"}})))),r.a.createElement(Ye.a,{item:!0,container:!0,spacing:5,direction:"row",justify:"center"},r.a.createElement(Ye.a,{item:!0,xs:4},r.a.createElement(ce.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:function(){b(!E)}},"Zoom ",E?"Out":"In")),r.a.createElement(Ye.a,{item:!0,xs:4},r.a.createElement(ce.a,{color:"primary",variant:"contained",fullWidth:!0,disabled:!l.status||void 0===a.find((function(e){return e.id===o})),onClick:function(){u(!0)}},"Save to History"),r.a.createElement(ct,null)),r.a.createElement(Ye.a,{item:!0,xs:4},r.a.createElement(ce.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:Ue},"Export"))))))}));function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var pt=Object(m.a)((function(){return{paper:{display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:580}}}));var dt=Object(c.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.historyControl,{socket:e.userControl.socket})}),(function(e){return{onRowClick:function(t){return e({type:"SET_HISTORY_SELECTED_ID",selectedScheduleID:t})},onHistoryGet:function(t){return e({type:"GET_HISTORY_SCHEDULES",schedules:t})}}}))((function(e){var t=e.schedules,n=e.selectedScheduleID,a=e.onRowClick,o=e.onHistoryGet,i=r.a.useState(!1),c=Object(ae.a)(i,2),l=c[0],u=c[1],s=r.a.useState(!1),m=Object(ae.a)(s,2),p=m[0],d=m[1],f=pt(),g=Object(y.a)(f.paper,f.fixedHeight),E=Object(et.b)(je.a),b=t.find((function(e){return e.id===n}));return r.a.useEffect((function(){d(!0),h.a.get("/api/history").then((function(e){var t=e.data;t.error||(o(t.results),t.results.length>0&&a(t.results[t.results.length-1].id))})).finally((function(){d(!1)}))}),[o]),r.a.createElement(Ye.a,{container:!0,spacing:3},r.a.createElement(Ye.a,{item:!0,xs:12,md:6,lg:4},r.a.createElement(Ye.a,{container:!0,spacing:5,direction:"column"},r.a.createElement(Ye.a,{item:!0,xs:12},r.a.createElement(ge.a,{height:549,mb:1},r.a.createElement(ve.a,{isLoading:p,data:He(t),columns:[{title:"Id",field:"id",defaultSort:"asc"},{title:"Schedule Name",field:"scheduleName",defaultSort:"asc"}],options:{search:!1,sorting:!0,selection:!1,pageSize:11,pageSizeOptions:[],padding:"dense",rowStyle:function(e){return{backgroundColor:0!==n&&n===e.id?"#EEE":"#FFF"}}},title:"History",onRowClick:function(e,t){a(t.id)}}))))),r.a.createElement(Ye.a,{item:!0,xs:12,md:6,lg:8},r.a.createElement(Ye.a,{container:!0,spacing:2,direction:"column"},r.a.createElement(Ye.a,{item:!0},r.a.createElement(Ve.a,{className:g},r.a.createElement(ge.a,{id:"cal"},r.a.createElement(et.a,{id:"timetable",localizer:E,defaultView:"work_week",views:["work_week"],defaultDate:new Date(je()("1880-10-06 00:00")),events:b?ke(b.sections.filter((function(e){return void 0!==e.time}))):[],style:{maxHeight:2e3},toolbar:!1,min:new Date("1880-10-06 08:00"),max:new Date("1880-10-06 22:00"),step:15,timeslots:l?2:4,components:{event:at},formats:{dayFormat:"ddd"}})))),r.a.createElement(Ye.a,{item:!0,container:!0,spacing:5,direction:"row",justify:"center"},r.a.createElement(Ye.a,{item:!0,xs:4},r.a.createElement(ce.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:function(){u(!l)}},"Zoom ",l?"Out":"In")),r.a.createElement(Ye.a,{item:!0,xs:4},r.a.createElement(ce.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:function(){var e;(e=new WebSocket("ws://"+window.location.host+"/api/broadcast-schedules")).addEventListener("message",(function(t){console.log("Message from sent ",t.data),d(!0),h.a.get("/api/history").then((function(e){var t=e.data;t.error||o(t.results)})).finally((function(){d(!1),e.close()}))})),e.addEventListener("open",(function(){e.send(JSON.stringify({id:n,scheduleName:t.find((function(e){return e.id===n})).scheduleName}))}))},disabled:void 0===b||b.published},"Publish")),r.a.createElement(Ye.a,{item:!0,xs:4},r.a.createElement(ce.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:Ue},"Export"))))))})),ft=Object(m.a)((function(){return{paper:{display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:580}}}));var gt=Object(c.b)((function(e){return e.communityControl}),(function(e){return{onRowClick:function(t){return e({type:"SET_COMMUNITY_SELECTED_ID",selectedScheduleID:t})},onCommunityGet:function(t){return e({type:"GET_COMMUNITY_SCHEDULES",schedules:t})}}}))((function(e){var t=e.schedules,n=e.selectedScheduleID,a=e.onRowClick,o=e.onCommunityGet,i=r.a.useState(!1),c=Object(ae.a)(i,2),l=c[0],u=c[1],s=r.a.useState(!1),m=Object(ae.a)(s,2),p=m[0],d=m[1],f=ft(),g=Object(y.a)(f.paper,f.fixedHeight),E=Object(et.b)(je.a);return r.a.useEffect((function(){d(!0),h.a.get("/api/public-schedules").then((function(e){var t=e.data;t.error||(o(t.results),t.results.length>0&&0===n&&a(t.results[t.results.length-1].id))})).finally((function(){d(!1)}))}),[o]),r.a.createElement(Ye.a,{container:!0,spacing:3},r.a.createElement(Ye.a,{item:!0,xs:12,md:6,lg:4},r.a.createElement(Ye.a,{container:!0,spacing:5,direction:"column"},r.a.createElement(Ye.a,{item:!0,xs:12},r.a.createElement(ge.a,{height:549,mb:1},r.a.createElement(ve.a,{isLoading:p,data:Be(t),columns:[{title:"Id",field:"id",defaultSort:"desc"},{title:"Username",field:"username",defaultSort:"asc"},{title:"Schedule Name",field:"scheduleName",defaultSort:"asc"}],options:{search:!1,sorting:!0,selection:!1,pageSize:10,pageSizeOptions:[],padding:"dense",rowStyle:function(e){return{backgroundColor:0!==n&&n===e.id?"#EEE":"#FFF"}}},title:"Community",onRowClick:function(e,t){a(t.id)}}))))),r.a.createElement(Ye.a,{item:!0,xs:12,md:6,lg:8},r.a.createElement(Ye.a,{container:!0,spacing:2,direction:"column"},r.a.createElement(Ye.a,{item:!0},r.a.createElement(Ve.a,{className:g},r.a.createElement(ge.a,{id:"cal"},r.a.createElement(et.a,{id:"timetable",localizer:E,defaultView:"work_week",views:["work_week"],defaultDate:new Date(je()("1880-10-06 00:00")),events:function(){var e=t.find((function(e){return e.id===n}));return e?ke(e.sections.filter((function(e){return void 0!==e.time}))):[]}(),style:{maxHeight:2e3},toolbar:!1,min:new Date("1880-10-06 08:00"),max:new Date("1880-10-06 22:00"),step:15,timeslots:l?2:4,components:{event:at},formats:{dayFormat:"ddd"}})))),r.a.createElement(Ye.a,{item:!0,container:!0,spacing:2,direction:"row",justify:"center"},r.a.createElement(Ye.a,{item:!0,xs:4},r.a.createElement(ce.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:function(){u(!l)}},"Zoom ",l?"Out":"In")),r.a.createElement(Ye.a,{item:!0,xs:4},r.a.createElement(ce.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:Ue},"Export"))))))})),Et=Object(m.a)((function(e){return{appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto",backgroundColor:"#f1f1f1"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}}));var bt=function(e){var t=e.tabId,n=Et();return r.a.createElement("main",{className:n.content},r.a.createElement("div",{className:n.appBarSpacer}),r.a.createElement(oe.a,{maxWidth:"xl",className:n.container},function(){switch(t){case fe.COURSE_BIN:return r.a.createElement(Fe,null);case fe.PREFERENCE:return r.a.createElement($e,null);case fe.SCHEDULE:return r.a.createElement(st,null);case fe.HISTORY:return r.a.createElement(dt,null);case fe.COMMUNITY:return r.a.createElement(gt,null);default:return""}}()))};function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yt=Object(m.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Ot({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:280,width:"calc(100% - ".concat(280,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{background:"linear-gradient(0deg, rgba(153,0,0,1) 0%, rgba(255,204,0,1) 36%, rgba(255,255,255,1) 56%)",position:"relative",whiteSpace:"nowrap",width:280,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(O.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:480},orange:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main}}})),vt=Object(m.a)((function(){return{tooltip:{fontSize:15}}}));var wt=Object(c.b)((function(e){return Ot({},e.tabsControl,{user:e.userControl})}),(function(e){return{onTabClick:function(t,n){return e({type:"CHANGE_TAB",tabId:t,tabName:n})},onDrawerClick:function(t){return e({type:"TOGGLE_DRAWER",openDrawer:t})},onLoginClick:function(t){return e({type:"TOGGLE_LOGIN",openLogin:t})},onLogOut:function(){return e({type:"USER_LOGOUT"})}}}))((function(e){var t=e.tabId,n=e.tabName,a=e.openDrawer,o=e.onTabClick,i=e.onDrawerClick,c=e.onLoginClick,l=e.user,u=e.onLogOut,s=yt(),m=vt(),p=function(e,t){o(e,t)};return r.a.createElement("div",{className:s.root},r.a.createElement(v.a,null),r.a.createElement(w.a,{position:"fixed",className:Object(y.a)(s.appBar,a&&s.appBarShift)},r.a.createElement(j.a,{className:s.toolbar},r.a.createElement(f.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){i(!0)},className:Object(y.a)(s.menuButton,a&&s.menuButtonHidden)},r.a.createElement(H.a,null)),r.a.createElement(C.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:s.title},n),l.status&&r.a.createElement(S.a,{title:l.username,classes:m},r.a.createElement(D.a,{className:s.orange},l.username[0])),l.status?r.a.createElement(S.a,{title:"Log Out",classes:m},r.a.createElement(f.a,{color:"inherit",onClick:function(){h.a.get("/api/logout").finally((function(){u(),o(fe.COURSE_BIN,"Course Bin")}))}},r.a.createElement(K.a,null))):r.a.createElement(S.a,{title:"Sign In",classes:m},r.a.createElement(f.a,{color:"inherit",onClick:function(){c(!0)}},r.a.createElement(U.a,null))))),r.a.createElement(I.a,{variant:"permanent",classes:{paper:Object(y.a)(s.drawerPaper,!a&&s.drawerPaperClose)},open:a},r.a.createElement("div",{className:s.toolbarIcon},r.a.createElement(f.a,{onClick:function(){i(!1)}},r.a.createElement(R.a,null))),r.a.createElement(P.a,null),r.a.createElement(k.a,null,r.a.createElement(x.a,{button:!0,selected:t===fe.COURSE_BIN,onClick:function(){p(fe.COURSE_BIN,"Course Bin")}},r.a.createElement(N.a,null,r.a.createElement(W.a,null)),r.a.createElement(T.a,{primary:"Course Bin"})),r.a.createElement(x.a,{button:!0,selected:t===fe.PREFERENCE,onClick:function(){p(fe.PREFERENCE,"Preference")}},r.a.createElement(N.a,null,r.a.createElement(F.a,null)),r.a.createElement(T.a,{primary:"Preference"})),r.a.createElement(x.a,{button:!0,selected:t===fe.SCHEDULE,onClick:function(){p(fe.SCHEDULE,"Schedule")}},r.a.createElement(N.a,null,r.a.createElement(Z.a,null)),r.a.createElement(T.a,{primary:"Schedule"})),r.a.createElement(x.a,{button:!0,disabled:!l.status,selected:t===fe.HISTORY,onClick:function(){p(fe.HISTORY,"History")}},r.a.createElement(N.a,null,r.a.createElement(q.a,null)),r.a.createElement(T.a,{primary:"History"}),!l.status&&a&&r.a.createElement(L.a,null,r.a.createElement(S.a,{title:"Please log in to use History.",classes:m},r.a.createElement(f.a,null,r.a.createElement($.a,null))))),r.a.createElement(x.a,{button:!0,selected:t===fe.COMMUNITY,onClick:function(){p(fe.COMMUNITY,"Community")}},r.a.createElement(N.a,null,r.a.createElement(Y.a,null)),r.a.createElement(T.a,{primary:"Community"})))),r.a.createElement(bt,{tabId:t}),r.a.createElement(se,null),r.a.createElement(de,null))}));var jt=Object(c.b)(null,(function(e){return{onLogIn:function(t){return e({type:"USER_LOGIN",username:t})},onTabClick:function(t,n){return e({type:"CHANGE_TAB",tabId:t,tabName:n})},onRowClick:function(t){return e({type:"SET_COMMUNITY_SELECTED_ID",selectedScheduleID:t})}}}))(Object(d.withSnackbar)((function(e){var t=e.enqueueSnackbar,n=e.onLogIn,a=e.onTabClick,o=e.onRowClick;new WebSocket("ws://"+window.location.host+"/api/broadcast-schedules").addEventListener("message",(function(e){var n=JSON.parse(e.data);console.log(n);var a=n.username,r=n.scheduleName,o=n.scheduleId;t("".concat(a," has published a new schedule ").concat(r),{key:o,variant:"info",action:i,autoHideDuration:1e4,anchorOrigin:{vertical:"bottom",horizontal:"right"}})})),r.a.useEffect((function(){h.a.get("/api/login-status").then((function(e){var t=e.data;"true"===t.type&&n(t.message)}))}),[]);var i=function(e){return r.a.createElement(f.a,{color:"secondary",variant:"contained",onClick:function(){return c(e)}},r.a.createElement(E.a,null))},c=function(e){o(e),a(fe.COMMUNITY,"Community")};return r.a.createElement(wt,null)}))),Ct=n(59);function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var It={tabId:0,tabName:"Course Bin",openDrawer:!0,openLogin:!1,openRegister:!1},Pt=n(25);function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nt={courses:[]};function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _t={early:{time:480,weight:50},late:{time:900,weight:50},breaks:{time:10,weight:50},reserved:[]};function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ht={schedules:[],selectedScheduleID:1,openDialog:!1};function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var At={schedules:[],selectedScheduleID:1};function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft={schedules:[],selectedScheduleID:0},Mt={status:!1,username:""},Yt=Object(Ct.c)({tabsControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_TAB":return Dt({},e,{tabId:t.tabId,tabName:t.tabName});case"TOGGLE_DRAWER":return Dt({},e,{openDrawer:t.openDrawer});case"TOGGLE_LOGIN":return Dt({},e,{openLogin:t.openLogin});case"TOGGLE_REGISTER":return Dt({},e,{openRegister:t.openRegister});default:return e}},coursebinControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COURSE":return{courses:[].concat(Object(Pt.a)(e.courses),Object(Pt.a)(t.newCourse))};case"PENALIZE_CHANGE":var n=e.courses.map((function(n){if(n.id===t.id)return xt({},n,{penalize:!n.penalize});var a=e.courses.find((function(e){return e.id===n.parentId}));if(n.parentId===t.id)return xt({},n,{penalize:!a.penalize});if(a&&a.parentId===t.id){var r=e.courses.find((function(e){return e.id===a.parentId}));return xt({},n,{penalize:!r.penalize})}return n}));return{courses:Object(Pt.a)(n)};case"INCLUDE_CHANGE":var a=e.courses.map((function(n){if(n.id===t.id)return xt({},n,{include:!n.include});var a=e.courses.find((function(e){return e.id===n.parentId}));if(n.parentId===t.id)return xt({},n,{include:!a.include});if(a&&a.parentId===t.id){var r=e.courses.find((function(e){return e.id===a.parentId}));return xt({},n,{include:!r.include})}return n}));return{courses:Object(Pt.a)(a)};case"CLEAR_ALL":return{courses:[]};default:return e}},preferenceControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TIME":return Lt({},e,Object(O.a)({},t.name,Lt({},e[t.name],{time:t.time})));case"SET_WEIGHT":return Lt({},e,Object(O.a)({},t.name,Lt({},e[t.name],{weight:t.weight})));case"ADD_NEW_RESERVED":return Lt({},e,{reserved:[].concat(Object(Pt.a)(e.reserved),[t.newReserved])});case"CLEAR_RESERVED":return Lt({},e,{reserved:[]});default:return e}},scheduleControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_ID":return Gt({},e,{selectedScheduleID:t.selectedScheduleID});case"GEN_SCHEDULES":return Gt({},e,{schedules:t.schedules});case"TOGGLE_SAVE_TO_HISTORY":return Gt({},e,{openDialog:t.openDialog});default:return e}},historyControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HISTORY_SELECTED_ID":return Ut({},e,{selectedScheduleID:t.selectedScheduleID});case"GET_HISTORY_SCHEDULES":return Ut({},e,{schedules:t.schedules});default:return e}},communityControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COMMUNITY_SELECTED_ID":return zt({},e,{selectedScheduleID:t.selectedScheduleID});case"GET_COMMUNITY_SCHEDULES":return zt({},e,{schedules:t.schedules});default:return e}},userControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":return{status:!0,username:t.username};case"USER_LOGOUT":return{status:!1,username:""};default:return e}}}),Vt=Object(Ct.e)(Yt,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),qt=Object(s.a)({typography:{fontFamily:'"Lato","Roboto", "Helvetica", "Arial", sans-serif'},palette:{primary:{main:"#990000",dark:"#990000"},secondary:{main:"#ffcc00",dark:"#ffcc00"}}}),Xt=Object(m.a)((function(e){return{info:{backgroundColor:e.palette.primary.main}}}));i.a.render(r.a.createElement(c.a,{store:Vt},r.a.createElement(p.a,{theme:qt},r.a.createElement(u.a,{utils:l.a},r.a.createElement((function(){var e=Xt();return r.a.createElement(d.SnackbarProvider,{classes:{variantInfo:e.info}},r.a.createElement(jt,null))}),null)))),document.getElementById("root"))}},[[277,1,2]]]);
//# sourceMappingURL=main.7dc15941.chunk.js.map